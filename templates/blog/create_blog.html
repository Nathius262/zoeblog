{% extends 'index.html'%}
{% load static %}
{% block title %}create post{% endblock %}

{% block content %}
<section style="background:#111;" class="album text-light">
	<div class="container mt-5">
		<div class="row">
			<div class="col-lg-8 offset-lg-2 mb-5">
				<h1 class="fw-bold m-4 text-center">Create Post</h1>
				<hr class="">
				<form id="formPost" class="create-form" method="POST" enctype="multipart/form-data">{% csrf_token %}
					<p class="form-text error-text text-danger">
		              {{ form.non_field_errors.as_text }}
		            </p>
					<!-----title---->
					<div class="form-group mb-3">

						
						<h3>{{form.title.label}}</h3>
						<p class="text-center text-danger">{{form.title.errors.as_text}}</p>
						{{form.title}}
					</div>

					<!-----category---->
					<h3>{{form.category.label}}</h3>
					<p class="text-center text-danger">{{form.category.errors.as_text}}</p>
					<div class="form-control">
						<div class="d-lg-flex col justify-content-between align-items-start">
							<div class="mb-3 ">								
								{% for cat in form.category %}
								<div class=" m-2">
									{{cat}}
								</div>
								{%endfor%}
							</div>
							
							<div class="mb-3">
								<button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#createCat">
									Create Category
								</button>
							</div>
						</div>
					</div>
					

						<!-----body---->
					<div class="form-group mb-3 mt-5">
						<p class="text-center text-danger">{{form.body.errors.as_text}}</p>
						<div class="row">{{form.media}} {{form.body}}</div>
					</div>

					<div class="form-group id_image_group image-group mb-3">
						 <img class="img-fluid image" id="id_image_display">
						{{form.image}}
					</div>

					<!-----author----->
					<div class="form-group mb-3">
						<label for="id_author"><h4>Author</h4></label>
						<p class="text-center text-danger">{{form.author.errors.as_text}}</p>
						<input type="text" name="author" value="{{request.user}}" class="form-control" readonly>
					</div>
					<button class="w-100 btn mb-2 btn-lg rounded-3 btn-primary mt-3" type="submit">Post</button>
				</form>
			</div>
		</div>
	</div>
</section>
	{% include 'blog/create_category.html' %}
{% endblock content %}